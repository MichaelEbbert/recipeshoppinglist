{% extends "base.html" %}

{% block title %}{% if recipe %}Edit{% else %}New{% endif %} Recipe - Recipe Shopping List{% endblock %}

{% block content %}
<div class="recipe-edit">
    <h1>{% if recipe %}Edit Recipe{% else %}New Recipe{% endif %}</h1>

    <form method="post" action="{% if recipe %}/recipes/{{ recipe.id }}/edit{% else %}/recipes/new{% endif %}">
        <div class="form-group">
            <label for="name">Recipe Name *</label>
            <input type="text" id="name" name="name" required
                   value="{{ recipe.name if recipe else '' }}">
        </div>

        <div class="form-group">
            <label for="description">Description</label>
            <textarea id="description" name="description" rows="2">{{ recipe.description if recipe else '' }}</textarea>
        </div>

        <div class="form-group">
            <label for="ingredients_text">Ingredients (one per line)</label>
            <textarea id="ingredients_text" name="ingredients_text" rows="10"
                      placeholder="2 cups flour&#10;1 tsp salt&#10;1/2 cup butter">{{ ingredients_text if ingredients_text else '' }}</textarea>
            <small>Format: quantity unit ingredient (e.g., "2 cups flour" or "1/2 tsp salt")</small>
        </div>

        <div class="form-group">
            <label for="instructions">Instructions</label>
            <textarea id="instructions" name="instructions" rows="10">{{ recipe.instructions if recipe else '' }}</textarea>
        </div>

        <div class="form-group">
            <label for="source_url">Source URL (optional)</label>
            <input type="url" id="source_url" name="source_url"
                   value="{{ recipe.source_url if recipe else '' }}">
        </div>

        <div class="form-actions">
            <button type="submit" class="btn btn-primary">
                {% if recipe %}Save Changes{% else %}Create Recipe{% endif %}
            </button>
            <a href="{% if recipe %}/recipes/{{ recipe.id }}{% else %}/recipes{% endif %}" class="btn">Cancel</a>
        </div>
    </form>
</div>
{% endblock %}
